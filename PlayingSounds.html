<DOCTYPE! html>

<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Final Project </title>
        <link rel="stylesheet" href="//code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css">
        <link rel="stylesheet" href="/resources/demos/style.css">
        <link rel= "stylesheet" href="style.css">
        <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
        <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>
        <script src="script.js"> </script>
    </head>

    <body>
    <div class="draggable" class="melodies">
        <p> drag </p>
        </div>
    <div class="draggable" class="melodies">
        <p> drag </p>
    </div>

    <div class="droppable" class="bar">
        <p> drop</p>
    </div>
        
    </body>
</html>

<br>
<br>
<center>
<button type="button">Play/Pause</button>
</center>

<script>

window.onclick = function() {

    var audio = new window.webkitAudioContext(),
        position = 0,
        scale = {
            g: 392,
            c: 261.63,
            f: 349.23,
            d: 293.66,
            e: 329.63,
            b: 493.88
        },
        song = "edcdeee-ddd-eee-edcdeee-cddedc---";

    setInterval(play, 1000 / 4);

    function createOscillator(freq) {
        var osc = audio.createOscillator();

        osc.frequency.value = freq;
        osc.type = "square";
        osc.connect(audio.destination);
        osc.start(0);

        setTimeout(function() {
            osc.stop(0);
            osc.disconnect(audio.destination);
        }, 1000 / 4)
    }

    function play() {
        var note = song.charAt(position),
            freq = scale[note];
        position += 1;
        // if(position >= song.length) {
        //     position = 0;
        // }
        if(freq) {
            createOscillator(freq);
        }
    }
};

<!-- // window.onload = function() {

//     var audio = new window.webkitAudioContext(),
//         osc = audio.createOscillator(),
//         position = 0,
//         scale = {
//             g: 392,
//             f: 349.23,
//             e: 329.63,
//             b: 493.88
//         },
//         song = "gfefgg-fff-gbb-gfefggggffgfe";

//         osc.connect(audio.destination);
//         osc.start(0);

//     setInterval(play, 1000 / 4);

//     function play() {
//         var note = song.charAt(position),
//             freq = scale[note];
//         position += 1;
//         if(position >= song.length) {
//             position = 0;
//         }
//         if(freq) {
//             osc.frequency.value = freq;
//         }
//     }
// };
 -->